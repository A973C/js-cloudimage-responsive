{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./examples/src/index.js","webpack:///./src/index.js","webpack:///./src/ci.service.js","webpack:///./src/ci.utils.js","webpack:///./node_modules/throttle-debounce/index.esm.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","CIResponsive","token","baseUrl","filters","queryString","lazyLoadOffset","lazyLoading","init","lazySizes","_ci","_throttleDebounce","config","_this","this","_classCallCheck","_config$token","undefined","_config$container","container","_config$ultraFast","ultraFast","_config$lazyLoading","_config$imgLoadingAni","imgLoadingAnimation","_config$lazyLoadOffse","_config$width","width","_config$height","height","_config$operation","operation","_config$filters","_config$placeholderBa","placeholderBackground","_config$baseUrl","_config$ratio","ratio","presets","_config$queryString","head","document","getElementsByTagName","backgroundImgIndex","forceUpdate","getPresets","xs","sm","md","lg","xl","order","innerWidth","updateDimensions","debounce","process","addEventListener","isUpdate","_this2","images","filterImages","querySelectorAll","backgroundImages","forEach","image","processImage","processBackgroundImage","_this3","isResponsiveAndLoaded","addClass","parentContainerWidth","getParentWidth","_getImageProps","getImageProps","_getImageProps$operat","_getImageProps$size","size","_getImageProps$filter","src","isAdaptive","checkOnMedia","ratioBySize","getRatioBySize","imageHeight","Math","floor","isRatio","wrapper","eval","isRelativeUrlPath","checkIfRelativeUrlPath","imgSrc","getImgSrc","resultSize","getSizeAccordingToPixelRatio","isPreview","cloudimageUrl","generateUrl","setAnimation","getWrapper","style","paddingBottom","wrap","wrapWithPicture","sources","generateSources","addSources","setSrc","onload","background","finishAnimation","previewImg","parentNode","isPreviewImg","className","indexOf","querySelector","pictureElem","createElement","classList","add","insertBefore","url","previewSources","display","split","map","join","propertyName","_config2","dataSrcAttr","setAttribute","source","_config3","dataSrcsetAttr","filter","transform","setTimeout","transition","nextSibling","appendChild","nodeName","toLowerCase","_this4","media","mediaQuery","setSrcset","srcSet","insertSource","_this5","elem","index","srcset","arguments","length","type","splittedValues","result","splittedParam","prop","trim","val","unshift","_typeof","e","location","protocol","splittedSizes","toString","push","round","devicePixelRatio","img","parentElement","getBoundingClientRect","parentContainer","getParentContainerWithWidth","currentWidth","parseInt","computedWidth","getComputedStyle","getSizeLimit","orderFiltered","isLast","nextSizeType","nextSize","generateSrcset","imgWidth","imgHeight","generateImgSrc","breakPoint","getBreakPoint","orderIndex","breakPointSize","prevBreakPointLimit","findIndex","item","factor","imgSize","trunc","replace","currentSize","filtered","getAttribute","isProcessed","slice","attr","element","attribute","includes","contains","removeClass","remove","throttle","delay","noTrailing","callback","debounceMode","timeoutID","lastExec","self","elapsed","Number","Date","args","exec","apply","clearTimeout","atBegin","__webpack_exports__"],"mappings":"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","file":"bundle9b53b4297ee6644318cc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import '../../src';\nimport './style.css';\n\nconst ciResponsive = new window.CIResponsive({\n  token: 'demo',\n  baseUrl: 'https://cloudimage.public.airstore.io/demo/',\n  filters: 'q35.foil1',\n  queryString: '?&size_info=1',\n  lazyLoadOffset: 100,\n  lazyLoading: true\n});\n\n\nciResponsive.init();\n\nwindow.lazySizes.init();\n","import CIResponsive from './ci.service';\nimport './ci.styles.css';\n\nwindow.CIResponsive = CIResponsive;","import {\n  getPresets, filterImages, getImageProps, getParentWidth, checkOnMedia, checkIfRelativeUrlPath,\n  getImgSrc, getSizeAccordingToPixelRatio, generateUrl, generateSources, insertSource, addClass, getRatioBySize,\n  isResponsiveAndLoaded\n} from './ci.utils';\nimport { debounce } from 'throttle-debounce';\n\n\nexport default class CIResponsive {\n  constructor(config) {\n    const {\n      token = '',\n      container = 'cloudimg.io',\n      ultraFast = false,\n      lazyLoading = false,\n      imgLoadingAnimation = true,\n      lazyLoadOffset = 100,\n      width = '400',\n      height = '300',\n      operation = 'width',\n      filters = 'n',\n      placeholderBackground = '#f4f4f4',\n      baseUrl = '/',\n      ratio = 1.5,\n      presets,\n      queryString = ''\n    } = config;\n\n    this.head = document.head || document.getElementsByTagName('head')[0];\n    this.backgroundImgIndex = 0;\n    this.forceUpdate = false;\n    this.config = {\n      token,\n      container,\n      ultraFast,\n      lazyLoading,\n      imgLoadingAnimation,\n      lazyLoadOffset,\n      width,\n      height,\n      operation,\n      filters,\n      placeholderBackground,\n      baseUrl,\n      ratio,\n      presets: presets ? getPresets(presets, 'presets') :\n        {\n          xs: 575,  // up to 576    PHONE\n          sm: 767,  // 577 - 768    PHABLET\n          md: 991,  // 769 - 992    TABLET\n          lg: 1199, // 993 - 1200   SMALL_LAPTOP_SCREEN\n          xl: 3000  // from 1200    USUALSCREEN\n        },\n      order: presets ? getPresets(presets, 'order') : ['xl', 'lg', 'md', 'sm', 'xs'],\n      queryString,\n      innerWidth: window.innerWidth,\n      //isChrome: /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)\n    };\n\n    this.updateDimensions = debounce(100, () => {\n      const { innerWidth } = this.config;\n\n      this.process(true);\n\n      if (this.config.innerWidth < window.innerWidth)\n        this.config.innerWidth = window.innerWidth;\n    });\n\n    window.addEventListener('resize', this.updateDimensions);\n  }\n\n  init() {\n    this.process();\n  }\n\n  setForceUpdate() {\n    this.forceUpdate = value;\n\n    if (value) this.process(true);\n  }\n\n  process(isUpdate) {\n    const images = filterImages(document.querySelectorAll('img[ci-src]'), 'ci-src');\n    const backgroundImages = filterImages(document.querySelectorAll('[ci-background]'), 'ci-background');\n\n    images.forEach((image) => { this.processImage(image, isUpdate); });\n    backgroundImages.forEach((image) => { this.processBackgroundImage(image); });\n  }\n\n  processImage(image, isUpdate) {\n    if (isResponsiveAndLoaded(image) && !(this.config.innerWidth < window.innerWidth)) return;\n    addClass(image, 'ci-image');\n\n    if (this.config.lazyLoading)\n      addClass(image, 'lazyload');\n\n    let parentContainerWidth = getParentWidth(image, this.config);\n    let {\n      operation = this.config.operation,\n      size = (this.config.size || parentContainerWidth),\n      filters = this.config.filters,\n      ratio,\n      src\n    } = getImageProps(image);\n    const isAdaptive = checkOnMedia(size);\n    const ratioBySize = getRatioBySize(size, this.config);\n    const imageHeight = Math.floor(parentContainerWidth / (ratioBySize || ratio));\n    const isRatio = !!(ratioBySize || ratio);\n    let wrapper = null;\n\n    ratio = ratio || this.config.ratio;\n    size = isAdaptive ? eval('(' + size + ')') : size;\n\n    const isRelativeUrlPath = checkIfRelativeUrlPath(src);\n    const imgSrc = getImgSrc(src, isRelativeUrlPath, this.config.baseUrl);\n    const resultSize = isAdaptive ? size : getSizeAccordingToPixelRatio(size);\n    //const isPreview = !this.config.isChrome && (parentContainerWidth > 400) && this.config.lazyLoading;\n    const isPreview = (parentContainerWidth > 400) && this.config.lazyLoading;\n    const cloudimageUrl = isAdaptive ?\n      generateUrl('width', parentContainerWidth, filters, imgSrc, this.config) :\n      generateUrl(operation, resultSize, filters, imgSrc, this.config);\n\n    if (this.config.imgLoadingAnimation) {\n      this.setAnimation(image, parentContainerWidth);\n    }\n\n    if (!isUpdate) {\n      wrapper = this.wrap(image, null, isRatio, ratioBySize, ratio, isPreview);\n    } else {\n      wrapper = this.getWrapper(image);\n\n      if (isRatio) {\n        wrapper.style.paddingBottom = (100 / (ratioBySize || ratio)) + '%';\n      }\n\n      if (isAdaptive) return;\n    }\n\n    if (isRatio) {\n      addClass(image, 'ci-image-ratio');\n    }\n\n    if (isAdaptive && !isPreview) {\n      this.wrapWithPicture(image);\n\n      const sources = generateSources(operation, resultSize, filters, imgSrc, isAdaptive, this.config);\n\n      this.addSources(image, sources);\n      this.setSrc(image, cloudimageUrl);\n\n      if (this.config.imgLoadingAnimation) {\n        image.onload = () => {\n          wrapper.style.background = 'transparent';\n          this.finishAnimation(image);\n        }\n      }\n    }\n\n    else if (isAdaptive && isPreview && isRatio) {\n      this.wrapWithPicture(image);\n\n      let previewImg = null;\n      const container = image.parentNode.parentNode;\n      const isPreviewImg = container.className.indexOf('ci-with-preview-image') > -1;\n\n      if (isPreviewImg) {\n        previewImg = container.querySelector('img.ci-image-preview');\n      } else {\n        const pictureElem = container.querySelector('picture');\n\n        previewImg = document.createElement('img');\n        previewImg.className = `${isRatio ? 'ci-image-ratio ' : ''}ci-image-preview lazyload`;\n        container.classList.add(\"ci-with-preview-image\");\n        container.insertBefore(previewImg, pictureElem);\n      }\n\n      this.wrapWithPicture(previewImg);\n\n      this.setAnimation(previewImg, parentContainerWidth);\n\n      const config = { ...this.config, queryString: '' };\n      const url = generateUrl('width', (parentContainerWidth / 5), 'q5.foil1', imgSrc, config);\n      const sources = generateSources(operation, resultSize, filters, imgSrc, isAdaptive, this.config);\n      const previewSources = generateSources(operation, resultSize, 'q5.foil1', imgSrc, isAdaptive, config, true);\n\n      this.addSources(previewImg, previewSources);\n      this.addSources(image, sources);\n\n      this.setSrc(previewImg, url);\n      this.setSrc(image, cloudimageUrl);\n\n      image.onload = () => {\n        wrapper.style.background = 'transparent';\n        previewImg.style.display = 'none';\n        this.finishAnimation(image);\n      }\n    }\n\n    else if (isPreview && isRatio) {\n      const container = image.parentNode;\n      const isPreviewImg = container.className.indexOf('ci-with-preview-image') > -1;\n      const config = { ...this.config, queryString: '' };\n      const size = resultSize.split('x').map(size => size / 5).join('x');\n      const url = generateUrl(operation, size, 'q5.foil1', imgSrc, config);\n      let previewImg = null;\n\n      if (isPreviewImg) {\n        previewImg = container.querySelector('img.ci-image-preview');\n      } else {\n        previewImg = document.createElement('img');\n        previewImg.className = `${isRatio ? 'ci-image-ratio ' : ''} ci-image-preview lazyload`;\n        container.classList.add(\"ci-with-preview-image\");\n        image.parentNode.insertBefore(previewImg, image);\n      }\n\n      this.setAnimation(previewImg, parentContainerWidth);\n      this.setSrc(previewImg, url, 'data-src');\n\n      this.setSrc(image, cloudimageUrl, 'data-src');\n\n      image.onload = () => {\n        wrapper.style.background = 'transparent';\n        previewImg.style.display = 'none';\n        this.finishAnimation(image);\n      }\n    }\n\n    else {\n      image.onload = () => {\n        wrapper.style.background = 'transparent';\n        this.finishAnimation(image);\n      };\n      this.setSrc(image, cloudimageUrl);\n    }\n  }\n\n  getWrapper(image) {\n    if ((image.parentNode.className || '').indexOf('ci-image-wrapper') > -1) {\n      return image.parentNode;\n    }\n    else if ((image.parentNode.parentNode.className || '').indexOf('ci-image-wrapper') > -1) {\n      return image.parentNode.parentNode;\n    }\n  }\n\n  setSrc(image, url, propertyName) {\n    const { lazyLoading, dataSrcAttr } = this.config;\n\n    image.setAttribute(propertyName ? propertyName : (lazyLoading ? 'data-src' : dataSrcAttr ? dataSrcAttr : 'src'), url);\n  }\n\n  setSrcset(source, url) {\n    const { lazyLoading, dataSrcsetAttr } = this.config;\n\n    source.setAttribute(lazyLoading ? 'data-srcset' : dataSrcsetAttr ? dataSrcsetAttr : 'srcset', url);\n  }\n\n  setAnimation(image, parentContainerWidth) {\n    image.style.filter = `blur(${Math.floor(parentContainerWidth / 100)}px)`;\n    image.style.transform = 'scale3d(1.1, 1.1, 1)';\n\n    setTimeout(() => {\n      image.style.transition = 'all 0.3s ease-in-out';\n    })\n  }\n\n  finishAnimation(image) {\n    image.style.filter = 'blur(0px)';\n    image.style.transform = 'translateZ(0) scale3d(1, 1, 1)';\n    addClass(image, 'ci-image-loaded');\n  }\n\n  wrap(image, wrapper, isRatio, ratioBySize, ratio) {\n    if ((image.parentNode.className || '').indexOf('ci-image-wrapper') > -1 ||\n      (image.parentNode.parentNode.className || '').indexOf('ci-image-wrapper') > -1) {\n      wrapper = image.parentNode;\n\n      addClass(wrapper, 'ci-image-wrapper');\n      wrapper.style.background =  this.config.placeholderBackground;\n\n      if (isRatio) {\n        addClass(wrapper, 'ci-image-wrapper-ratio');\n      }\n\n      return;\n    }\n\n    wrapper = wrapper || document.createElement('div');\n\n    addClass(wrapper, 'ci-image-wrapper');\n    wrapper.style.background =  this.config.placeholderBackground;\n\n    if (isRatio) {\n      addClass(wrapper, 'ci-image-wrapper-ratio');\n      wrapper.style.paddingBottom = (100 / (ratioBySize || ratio)) + '%';\n    }\n\n    if (image.nextSibling) {\n      image.parentNode.insertBefore(wrapper, image.nextSibling);\n    } else {\n      image.parentNode.appendChild(wrapper);\n    }\n\n    wrapper.appendChild(image);\n\n    return wrapper;\n  }\n\n  wrapWithPicture(image, wrapper) {\n    if ((image.parentNode.nodeName || '').toLowerCase() !== 'picture') {\n      wrapper = wrapper || document.createElement('picture');\n\n      if (image.nextSibling) {\n        image.parentNode.insertBefore(wrapper, image.nextSibling);\n      } else {\n        image.parentNode.appendChild(wrapper);\n      }\n\n      wrapper.appendChild(image);\n    }\n  }\n\n  addSources (image, previewSources) {\n    previewSources.forEach((previewSources) => {\n      const source = document.createElement('source');\n\n      source.media = previewSources.mediaQuery;\n      this.setSrcset(source, previewSources.srcSet)\n\n      insertSource(image, source);\n    });\n  }\n\n  updateSources(image, previewSources, sources) {\n    const sourcesElems = image.parentNode.querySelectorAll('source');\n\n    sourcesElems.forEach((elem, index) => {\n      if (this.config.lazyLoading)\n        this.setSrcset(elem, sources[index].srcSet);\n\n      elem.srcset = sources[index].srcSet;\n    })\n  }\n\n  processBackgroundImage() {\n    // in progress\n  }\n}","const getPresets = (value = '', type) => {\n  const splittedValues = value.split('|');\n  const result = { presets: {}, order: [] };\n\n  for (let i = 0; i < splittedValues.length; i++) {\n    const splittedParam = splittedValues[i] && splittedValues[i].split(':');\n    const prop = splittedParam[0] && splittedParam[0].trim();\n    const val = splittedParam[1] && splittedParam[1].trim();\n\n    if (prop && val) {\n      result.presets[prop] = val;\n      result.order.unshift(prop);\n    }\n  }\n\n  return result[type];\n}\n\nconst checkOnMedia = size => {\n  try {\n    const object = eval('(' + size + ')');\n\n    return object && typeof object === \"object\";\n  }\n  catch (e) {\n    return false;\n  }\n};\n\nconst checkIfRelativeUrlPath = src => {\n  if (src.indexOf('//') === 0) {\n    src = window.location.protocol + src;\n  }\n  return (src.indexOf('http://') !== 0 && src.indexOf('https://') !== 0 && src.indexOf('//') !== 0);\n}\n\nconst getImgSrc = (src, isRelativeUrlPath = false, baseUrl = '') => {\n  if (isRelativeUrlPath)\n    return baseUrl + src;\n\n  return src;\n}\n\nconst getSizeAccordingToPixelRatio = size => {\n  const splittedSizes = size.toString().split('x');\n  const result = [];\n\n  [].forEach.call(splittedSizes, size => {\n    result.push(size * Math.round(window.devicePixelRatio || 1));\n  });\n\n  return result.join('x');\n}\n\nconst generateUrl = (operation, size, filters, imgSrc, config) => {\n  const { ultraFast, token, container, queryString } = config;\n  const isUltraFast = ultraFast ? 'https://scaleflex.ultrafast.io/' : 'https://';\n  const cloudUrl = isUltraFast + token + '.' + container + '/';\n\n  return cloudUrl + operation + '/' + size + '/' + filters + '/' + imgSrc + queryString;\n}\n\nconst getParentWidth = (img, config) => {\n  if (!(img && img.parentElement && img.parentElement.getBoundingClientRect) && !(img && img.width))\n    return config.width;\n\n  const parentContainer = getParentContainerWithWidth(img);\n  const currentWidth = parseInt(parentContainer, 10);\n  const computedWidth = parseInt(window.getComputedStyle(img).width);\n\n  if ((computedWidth && (computedWidth < currentWidth && computedWidth > 15) || !currentWidth)) {\n    return getSizeLimit(computedWidth);\n  } else {\n    if (!currentWidth) return img.width || config.width;\n\n    return getSizeLimit(currentWidth);\n  }\n}\n\nconst getParentContainerWithWidth = img => {\n  let parentNode = null;\n  let width = 0;\n\n  do {\n    parentNode = (parentNode && parentNode.parentNode) || img.parentNode;\n    width = parentNode.getBoundingClientRect().width;\n  } while (parentNode && !width)\n\n  return width;\n}\n\nconst generateSources = (operation, size, filters, imgSrc, isAdaptive, config, isPreview) => {\n  const sources = [];\n\n  if (isAdaptive) {\n    const orderFiltered = [];\n\n    for (let i = 0; i < config.order.length; i++) {\n      const nextSize = size[config.order[i]];\n\n      if (nextSize)\n        orderFiltered.unshift(config.order[i]);\n    }\n\n    for (let i = 0; i < orderFiltered.length; i++) {\n      const isLast = !(i < orderFiltered.length - 1);\n      const nextSizeType = isLast ? orderFiltered[i - 1] : orderFiltered[i];\n      let nextSize = size[orderFiltered[i]];\n\n      if (isPreview) {\n        nextSize = nextSize.split('x').map(size => size / 5).join('x');\n        filters = 'q10.foil1';\n      }\n\n      const srcSet = generateSrcset(operation, nextSize, filters, imgSrc, config);\n      const mediaQuery = '(' + (isLast ? 'min' : 'max') + '-width: ' + (config.presets[nextSizeType] + (isLast ? 1 : 0)) + 'px)';\n\n      sources.push({ mediaQuery, srcSet });\n    }\n  } else {\n    if (isPreview) {\n      size = size.split('x').map(size => size / 5).join('x');\n      filters = 'q10.foil1';\n    }\n\n    sources.push({\n      srcSet: generateSrcset(operation, size, filters, imgSrc, config)\n    });\n  }\n\n  return sources;\n}\n\nconst generateSrcset = (operation, size, filters, imgSrc, config) => {\n  const imgWidth = size.toString().split('x')[0]\n  const imgHeight = size.toString().split('x')[1];\n\n  return generateImgSrc(operation, filters, imgSrc, imgWidth, imgHeight, 1, config);\n}\n\nconst getRatioBySize = (size, config) => {\n  let width, height;\n\n  if (typeof size === 'object') {\n    const breakPoint = getBreakPoint(config);\n    let orderIndex = config.order.indexOf(breakPoint);\n    let breakPointSize = null;\n\n    do {\n      const nextBreakpoint = config.order[orderIndex]\n      breakPointSize = size[nextBreakpoint];\n      orderIndex--;\n    } while (!breakPointSize && orderIndex >= 0)\n\n    if (!breakPointSize) {\n      let orderIndex = config.order.indexOf(breakPoint);\n\n      do {\n        const nextBreakpoint = config.order[orderIndex]\n        breakPointSize = size[nextBreakpoint];\n        orderIndex++;\n      } while (!breakPointSize && orderIndex <= config.order.length)\n    }\n\n    width = breakPointSize.toString().split('x')[0]\n    height = breakPointSize.toString().split('x')[1];\n  } else {\n    width = size.toString().split('x')[0]\n    height = size.toString().split('x')[1];\n  }\n\n  if (width && height)\n    return width / height;\n\n  return null;\n}\n\nconst getBreakPoint = (config) => {\n  const { presets, order } = config;\n  const innerWidth = window.innerWidth;\n  const prevBreakPointLimit = order.findIndex(item => presets[item] < innerWidth);\n\n  return order[prevBreakPointLimit - 1] || order[prevBreakPointLimit] || order[order.length - 1];\n}\n\nconst generateImgSrc = (operation, filters, imgSrc, imgWidth, imgHeight, factor, config) => {\n  let imgSize = Math.trunc(imgWidth * factor);\n\n  if (imgHeight)\n    imgSize += 'x' + Math.trunc(imgHeight * factor);\n\n  return generateUrl(operation, getSizeAccordingToPixelRatio(imgSize), filters, imgSrc, config)\n    .replace('http://scaleflex.ultrafast.io/', '')\n    .replace('https://scaleflex.ultrafast.io/', '')\n    .replace('//scaleflex.ultrafast.io/', '')\n    .replace('///', '/');\n}\n\nconst getSizeLimit = (currentSize) => {\n  return currentSize <= 25 ? '25' :\n    currentSize <= 50 ? '50' :\n      currentSize <= 100 ? '100'\n        : currentSize <= 200 ? '200'\n        : currentSize <= 300 ? '300'\n          : currentSize <= 400 ? '400'\n            : currentSize <= 500 ? '500'\n              : currentSize <= 600 ? '600'\n                : currentSize <= 700 ? '700'\n                  : currentSize <= 800 ? '800'\n                    : currentSize <= 900 ? '900'\n                      : currentSize <= 1000 ? '1000'\n                        : currentSize <= 1100 ? '1100'\n                          : currentSize <= 1200 ? '1200'\n                            : currentSize <= 1300 ? '1300'\n                              : currentSize <= 1400 ? '1400'\n                                : currentSize <= 1500 ? '1500'\n                                  : currentSize <= 1600 ? '1600'\n                                    : currentSize <= 1700 ? '1700'\n                                      : currentSize <= 1800 ? '1800'\n                                        : currentSize <= 1900 ? '1900'\n                                          : currentSize <= 2400 ? '2400'\n                                            : currentSize <= 2800 ? '2800'\n                                              : '3600';\n}\n\nconst filterImages = (images, type) => {\n  const filtered = [];\n\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    const size = image.getAttribute(type) || '';\n    const isProcessed = image.getAttribute('data-is-ci-processed') === 'true';\n\n    if (size.slice(-4).toLowerCase() !== '.svg' && !isProcessed) {\n      filtered.push(image);\n    }\n  }\n\n  return filtered;\n}\n\nconst getImageProps = (image) => ({\n  operation: attr(image, 'o') || attr(image, 'operation') || attr(image, 'data-operation') || undefined,\n  size: attr(image, 's') || attr(image, 'size') || attr(image, 'data-size') || undefined,\n  filters: attr(image, 'f') || attr(image, 'filters') || attr(image, 'data-filters') || undefined,\n  ratio: attr(image, 'r') || attr(image, 'ratio') || attr(image, 'data-ratio') || undefined,\n  src: attr(image, 'ci-src') || attr(image, 'data-src') || undefined,\n});\n\nconst attr = (element, attribute) => element.getAttribute(attribute);\n\nexport const isResponsiveAndLoaded = image => (\n  !(attr(image, 's') || attr(image, 'size') || attr(image, 'data-size')) && image.className.includes('ci-image-loaded')\n);\n\n//const insertSource = (element, value) => {\n//  let template = document.createElement('template');\n//\n//  if ('content' in template) {\n//    template.innerHTML = value;\n//    element.parentNode.insertBefore(template.content.firstChild, element);\n//  } else {\n//    template = document.createElement('div');\n//    template.innerHTML = value;\n//    element.parentNode.insertBefore(template.firstChild, element);\n//  }\n//};\n\nconst insertSource = (element, source) => {\n  //let template = document.createElement('template');\n\n  element.parentNode.insertBefore(source, element);\n};\n\nconst addClass = (elem, className) => {\n  if (!elem.classList.contains(className)) {\n    elem.classList.add(className);\n  }\n}\n\nconst removeClass = (elem, className) => {\n  if (elem.classList.contains(className)) {\n    elem.classList.remove(className);\n  }\n}\n\nexport {\n  getPresets,\n  checkOnMedia,\n  checkIfRelativeUrlPath,\n  getImgSrc,\n  getSizeAccordingToPixelRatio,\n  generateUrl,\n  getParentWidth,\n  generateSources,\n  getRatioBySize,\n  getBreakPoint,\n  filterImages,\n  getImageProps,\n  insertSource,\n  addClass,\n  removeClass\n}","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle ( delay, noTrailing, callback, debounceMode ) {\n\n\t/*\n\t * After wrapper has stopped being called, this timeout ensures that\n\t * `callback` is executed at the proper times in `throttle` and `end`\n\t * debounce modes.\n\t */\n\tvar timeoutID;\n\n\t// Keep track of the last time `callback` was executed.\n\tvar lastExec = 0;\n\n\t// `noTrailing` defaults to falsy.\n\tif ( typeof noTrailing !== 'boolean' ) {\n\t\tdebounceMode = callback;\n\t\tcallback = noTrailing;\n\t\tnoTrailing = undefined;\n\t}\n\n\t/*\n\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t * functionality and when executed will limit the rate at which `callback`\n\t * is executed.\n\t */\n\tfunction wrapper () {\n\n\t\tvar self = this;\n\t\tvar elapsed = Number(new Date()) - lastExec;\n\t\tvar args = arguments;\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec () {\n\t\t\tlastExec = Number(new Date());\n\t\t\tcallback.apply(self, args);\n\t\t}\n\n\t\t/*\n\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t * to allow future `callback` executions.\n\t\t */\n\t\tfunction clear () {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif ( debounceMode && !timeoutID ) {\n\t\t\t/*\n\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t}\n\n\t\t// Clear any existing timeout.\n\t\tif ( timeoutID ) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\n\t\tif ( debounceMode === undefined && elapsed > delay ) {\n\t\t\t/*\n\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t * `callback`.\n\t\t\t */\n\t\t\texec();\n\n\t\t} else if ( noTrailing !== true ) {\n\t\t\t/*\n\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t * recent execution.\n\t\t\t *\n\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t * after `delay` ms.\n\t\t\t *\n\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t * execute after `delay` ms.\n\t\t\t */\n\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t}\n\n\t}\n\n\t// Return the wrapper function.\n\treturn wrapper;\n\n}\n\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\nfunction debounce ( delay, atBegin, callback ) {\n\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n"],"sourceRoot":""}