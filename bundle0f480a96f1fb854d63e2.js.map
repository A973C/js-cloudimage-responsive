{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ci.utils.js","webpack:///./src/ci.service.js","webpack:///./node_modules/throttle-debounce/index.esm.js","webpack:///./src/index.js","webpack:///./examples/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getPresets","arguments","length","undefined","type","splittedValues","split","result","presets","order","splittedParam","prop","trim","val","unshift","checkOnMedia","size","eval","_typeof","e","checkIfRelativeUrlPath","src","indexOf","window","location","protocol","getImgSrc","isRelativeUrlPath","baseUrl","getSizeAccordingToPixelRatio","splittedSizes","toString","forEach","push","Math","round","devicePixelRatio","join","generateUrl","operation","filters","imgSrc","config","ultraFast","token","container","queryString","getParentWidth","img","parentElement","getBoundingClientRect","width","parentContainer","getParentContainerWithWidth","currentWidth","parseInt","computedWidth","getComputedStyle","getSizeLimit","parentNode","generateSources","isAdaptive","isPreview","sources","orderFiltered","isLast","nextSizeType","nextSize","map","srcSet","generateSrcset","mediaQuery","imgWidth","imgHeight","generateImgSrc","getRatioBySize","height","breakPoint","getBreakPoint","orderIndex","breakPointSize","innerWidth","prevBreakPointLimit","findIndex","item","factor","imgSize","trunc","replace","currentSize","filterImages","images","filtered","image","getAttribute","isProcessed","slice","toLowerCase","getImageProps","attr","ratio","element","attribute","isResponsiveAndLoaded","className","includes","insertSource","source","insertBefore","addClass","elem","classList","contains","add","removeClass","remove","CIResponsive","_this","this","_classCallCheck","_config$token","_config$container","_config$ultraFast","_config$lazyLoading","lazyLoading","_config$imgLoadingAni","imgLoadingAnimation","_config$lazyLoadOffse","lazyLoadOffset","_config$width","_config$height","_config$operation","_config$filters","_config$placeholderBa","placeholderBackground","_config$baseUrl","_config$ratio","_config$queryString","head","document","getElementsByTagName","backgroundImgIndex","forceUpdate","xs","sm","md","lg","xl","updateDimensions","debounce","process","addEventListener","isUpdate","_this2","querySelectorAll","backgroundImages","processImage","processBackgroundImage","_this3","parentContainerWidth","_getImageProps","_getImageProps$operat","_getImageProps$size","_getImageProps$filter","_getImageProps$ratio","resultSize","cloudimageUrl","ratioBySize","imageHeight","floor","isRatio","wrapper","style","paddingBottom","wrap","setAnimation","addSources","setSrc","onload","finishAnimation","url","previewSources","updateSources","_config2","dataSrcAttr","setAttribute","_config3","dataSrcsetAttr","filter","nodeName","background","createElement","nextSibling","appendChild","_this4","index","media","setSrcset","_this5","srcset","throttle","delay","noTrailing","callback","debounceMode","timeoutID","lastExec","self","elapsed","Number","Date","args","exec","apply","clearTimeout","setTimeout","atBegin","__webpack_exports__","init","lazySizes"],"mappings":"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","file":"bundle0f480a96f1fb854d63e2.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","const getPresets = (value = '', type) => {\n  const splittedValues = value.split('|');\n  const result = { presets: {}, order: [] };\n\n  for (let i = 0; i < splittedValues.length; i++) {\n    const splittedParam = splittedValues[i] && splittedValues[i].split(':');\n    const prop = splittedParam[0] && splittedParam[0].trim();\n    const val = splittedParam[1] && splittedParam[1].trim();\n\n    if (prop && val) {\n      result.presets[prop] = val;\n      result.order.unshift(prop);\n    }\n  }\n\n  return result[type];\n}\n\nconst checkOnMedia = size => {\n  try {\n    const object = eval('(' + size + ')');\n\n    return object && typeof object === \"object\";\n  }\n  catch (e) {\n    return false;\n  }\n};\n\nconst checkIfRelativeUrlPath = src => {\n  if (src.indexOf('//') === 0) {\n    src = window.location.protocol + src;\n  }\n  return (src.indexOf('http://') !== 0 && src.indexOf('https://') !== 0 && src.indexOf('//') !== 0);\n}\n\nconst getImgSrc = (src, isRelativeUrlPath = false, baseUrl = '') => {\n  if (isRelativeUrlPath)\n    return baseUrl + src;\n\n  return src;\n}\n\nconst getSizeAccordingToPixelRatio = size => {\n  const splittedSizes = size.toString().split('x');\n  const result = [];\n\n  [].forEach.call(splittedSizes, size => {\n    result.push(size * Math.round(window.devicePixelRatio || 1));\n  });\n\n  return result.join('x');\n}\n\nconst generateUrl = (operation, size, filters, imgSrc, config) => {\n  const { ultraFast, token, container, queryString } = config;\n  const isUltraFast = ultraFast ? 'https://scaleflex.ultrafast.io/' : 'https://';\n  const cloudUrl = isUltraFast + token + '.' + container + '/';\n\n  return cloudUrl + operation + '/' + size + '/' + filters + '/' + imgSrc + queryString;\n}\n\nconst getParentWidth = (img, config) => {\n  if (!(img && img.parentElement && img.parentElement.getBoundingClientRect) && !(img && img.width))\n    return config.width;\n\n  const parentContainer = getParentContainerWithWidth(img);\n  const currentWidth = parseInt(parentContainer, 10);\n  const computedWidth = parseInt(window.getComputedStyle(img).width);\n\n  if ((computedWidth && (computedWidth < currentWidth && computedWidth > 15) || !currentWidth)) {\n    return getSizeLimit(computedWidth);\n  } else {\n    if (!currentWidth) return img.width || config.width;\n\n    return getSizeLimit(currentWidth);\n  }\n}\n\nconst getParentContainerWithWidth = img => {\n  let parentNode = null;\n  let width = 0;\n\n  do {\n    parentNode = (parentNode && parentNode.parentNode) || img.parentNode;\n    width = parentNode.getBoundingClientRect().width;\n  } while (parentNode && !width)\n\n  return width;\n}\n\nconst generateSources = (operation, size, filters, imgSrc, isAdaptive, config, isPreview) => {\n  const sources = [];\n\n  if (isAdaptive) {\n    const orderFiltered = [];\n\n    for (let i = 0; i < config.order.length; i++) {\n      const nextSize = size[config.order[i]];\n\n      if (nextSize)\n        orderFiltered.unshift(config.order[i]);\n    }\n\n    for (let i = 0; i < orderFiltered.length; i++) {\n      const isLast = !(i < orderFiltered.length - 1);\n      const nextSizeType = isLast ? orderFiltered[i - 1] : orderFiltered[i];\n      let nextSize = size[orderFiltered[i]];\n\n      if (isPreview) {\n        nextSize = nextSize.split('x').map(size => size / 5).join('x');\n        filters = 'q10.foil1';\n      }\n\n      const srcSet = generateSrcset(operation, nextSize, filters, imgSrc, config);\n      const mediaQuery = '(' + (isLast ? 'min' : 'max') + '-width: ' + (config.presets[nextSizeType] + (isLast ? 1 : 0)) + 'px)';\n\n      sources.push({ mediaQuery, srcSet });\n    }\n  } else {\n    if (isPreview) {\n      size = size.split('x').map(size => size / 5).join('x');\n      filters = 'q10.foil1';\n    }\n\n    sources.push({\n      srcSet: generateSrcset(operation, size, filters, imgSrc, config)\n    });\n  }\n\n  return sources;\n}\n\nconst generateSrcset = (operation, size, filters, imgSrc, config) => {\n  const imgWidth = size.toString().split('x')[0]\n  const imgHeight = size.toString().split('x')[1];\n\n  return generateImgSrc(operation, filters, imgSrc, imgWidth, imgHeight, 1, config);\n}\n\nconst getRatioBySize = (size, config) => {\n  let width, height;\n\n  if (typeof size === 'object') {\n    const breakPoint = getBreakPoint(config);\n    let orderIndex = config.order.indexOf(breakPoint);\n    let breakPointSize = null;\n\n    do {\n      const nextBreakpoint = config.order[orderIndex]\n      breakPointSize = size[nextBreakpoint];\n      orderIndex--;\n    } while (!breakPointSize && orderIndex >= 0)\n\n    if (!breakPointSize) {\n      let orderIndex = config.order.indexOf(breakPoint);\n\n      do {\n        const nextBreakpoint = config.order[orderIndex]\n        breakPointSize = size[nextBreakpoint];\n        orderIndex++;\n      } while (!breakPointSize && orderIndex <= config.order.length)\n    }\n\n    width = breakPointSize.toString().split('x')[0]\n    height = breakPointSize.toString().split('x')[1];\n  } else {\n    width = size.toString().split('x')[0]\n    height = size.toString().split('x')[1];\n  }\n\n  if (width && height)\n    return width / height;\n\n  return null;\n}\n\nconst getBreakPoint = (config) => {\n  const { presets, order } = config;\n  const innerWidth = window.innerWidth;\n  const prevBreakPointLimit = order.findIndex(item => presets[item] < innerWidth);\n\n  return order[prevBreakPointLimit - 1] || order[prevBreakPointLimit] || order[order.length - 1];\n}\n\nconst generateImgSrc = (operation, filters, imgSrc, imgWidth, imgHeight, factor, config) => {\n  let imgSize = Math.trunc(imgWidth * factor);\n\n  if (imgHeight)\n    imgSize += 'x' + Math.trunc(imgHeight * factor);\n\n  return generateUrl(operation, getSizeAccordingToPixelRatio(imgSize), filters, imgSrc, config)\n    .replace('http://scaleflex.ultrafast.io/', '')\n    .replace('https://scaleflex.ultrafast.io/', '')\n    .replace('//scaleflex.ultrafast.io/', '')\n    .replace('///', '/');\n}\n\nconst getSizeLimit = (currentSize) => {\n  return currentSize <= 25 ? '25' :\n    currentSize <= 50 ? '50' :\n      currentSize <= 100 ? '100'\n        : currentSize <= 200 ? '200'\n        : currentSize <= 300 ? '300'\n          : currentSize <= 400 ? '400'\n            : currentSize <= 500 ? '500'\n              : currentSize <= 600 ? '600'\n                : currentSize <= 700 ? '700'\n                  : currentSize <= 800 ? '800'\n                    : currentSize <= 900 ? '900'\n                      : currentSize <= 1000 ? '1000'\n                        : currentSize <= 1100 ? '1100'\n                          : currentSize <= 1200 ? '1200'\n                            : currentSize <= 1300 ? '1300'\n                              : currentSize <= 1400 ? '1400'\n                                : currentSize <= 1500 ? '1500'\n                                  : currentSize <= 1600 ? '1600'\n                                    : currentSize <= 1700 ? '1700'\n                                      : currentSize <= 1800 ? '1800'\n                                        : currentSize <= 1900 ? '1900'\n                                          : currentSize <= 2400 ? '2400'\n                                            : currentSize <= 2800 ? '2800'\n                                              : '3600';\n}\n\nconst filterImages = (images, type) => {\n  const filtered = [];\n\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    const size = image.getAttribute(type) || '';\n    const isProcessed = image.getAttribute('data-is-ci-processed') === 'true';\n\n    if (size.slice(-4).toLowerCase() !== '.svg' && !isProcessed) {\n      filtered.push(image);\n    }\n  }\n\n  return filtered;\n}\n\nconst getImageProps = (image) => ({\n  operation: attr(image, 'o') || attr(image, 'operation') || attr(image, 'data-operation') || undefined,\n  size: attr(image, 's') || attr(image, 'size') || attr(image, 'data-size') || undefined,\n  filters: attr(image, 'f') || attr(image, 'filters') || attr(image, 'data-filters') || undefined,\n  ratio: attr(image, 'r') || attr(image, 'ratio') || attr(image, 'data-ratio') || undefined,\n  src: attr(image, 'ci-src') || attr(image, 'data-src') || undefined,\n});\n\nconst attr = (element, attribute) => element.getAttribute(attribute);\n\nexport const isResponsiveAndLoaded = image => (\n  !(attr(image, 's') || attr(image, 'size') || attr(image, 'data-size')) && image.className.includes('ci-image-loaded')\n);\n\n//const insertSource = (element, value) => {\n//  let template = document.createElement('template');\n//\n//  if ('content' in template) {\n//    template.innerHTML = value;\n//    element.parentNode.insertBefore(template.content.firstChild, element);\n//  } else {\n//    template = document.createElement('div');\n//    template.innerHTML = value;\n//    element.parentNode.insertBefore(template.firstChild, element);\n//  }\n//};\n\nconst insertSource = (element, source) => {\n  //let template = document.createElement('template');\n\n  element.parentNode.insertBefore(source, element);\n};\n\nconst addClass = (elem, className) => {\n  if (!elem.classList.contains(className)) {\n    elem.classList.add(className);\n  }\n}\n\nconst removeClass = (elem, className) => {\n  if (elem.classList.contains(className)) {\n    elem.classList.remove(className);\n  }\n}\n\nexport {\n  getPresets,\n  checkOnMedia,\n  checkIfRelativeUrlPath,\n  getImgSrc,\n  getSizeAccordingToPixelRatio,\n  generateUrl,\n  getParentWidth,\n  generateSources,\n  getRatioBySize,\n  getBreakPoint,\n  filterImages,\n  getImageProps,\n  insertSource,\n  addClass,\n  removeClass\n}","import {\n  getPresets, filterImages, getImageProps, getParentWidth, checkOnMedia, checkIfRelativeUrlPath,\n  getImgSrc, getSizeAccordingToPixelRatio, generateUrl, generateSources, insertSource, addClass, getRatioBySize,\n  isResponsiveAndLoaded\n} from './ci.utils';\nimport { debounce } from 'throttle-debounce';\n\n\nexport default class CIResponsive {\n  constructor(config) {\n    const {\n      token = '',\n      container = 'cloudimg.io',\n      ultraFast = false,\n      lazyLoading = false,\n      imgLoadingAnimation = true,\n      lazyLoadOffset = 100,\n      width = '400',\n      height = '300',\n      operation = 'width',\n      filters = 'n',\n      placeholderBackground = '#f4f4f4',\n      baseUrl = '/',\n      ratio = 1.5,\n      presets,\n      queryString = ''\n    } = config;\n\n    this.head = document.head || document.getElementsByTagName('head')[0];\n    this.backgroundImgIndex = 0;\n    this.forceUpdate = false;\n    this.config = {\n      token,\n      container,\n      ultraFast,\n      lazyLoading,\n      imgLoadingAnimation,\n      lazyLoadOffset,\n      width,\n      height,\n      operation,\n      filters,\n      placeholderBackground,\n      baseUrl,\n      ratio,\n      presets: presets ? getPresets(presets, 'presets') :\n        {\n          xs: 575,  // up to 576    PHONE\n          sm: 767,  // 577 - 768    PHABLET\n          md: 991,  // 769 - 992    TABLET\n          lg: 1199, // 993 - 1200   SMALL_LAPTOP_SCREEN\n          xl: 3000  // from 1200    USUALSCREEN\n        },\n      order: presets ? getPresets(presets, 'order') : ['xl', 'lg', 'md', 'sm', 'xs'],\n      queryString,\n      innerWidth: window.innerWidth,\n      //isChrome: /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)\n    };\n\n    this.updateDimensions = debounce(100, () => {\n      const { innerWidth } = this.config;\n\n      this.process(true);\n\n      if (this.config.innerWidth < window.innerWidth)\n        this.config.innerWidth = window.innerWidth;\n    });\n\n    window.addEventListener('resize', this.updateDimensions);\n  }\n\n  init() {\n    this.process();\n  }\n\n  setForceUpdate() {\n    this.forceUpdate = value;\n\n    if (value) this.process(true);\n  }\n\n  process(isUpdate) {\n    const images = filterImages(document.querySelectorAll('img[ci-src]'), 'ci-src');\n    const backgroundImages = filterImages(document.querySelectorAll('[ci-background]'), 'ci-background');\n\n    images.forEach((image) => { this.processImage(image, isUpdate); });\n    backgroundImages.forEach((image) => { this.processBackgroundImage(image); });\n  }\n\n  processImage(image, isUpdate) {\n    if (isResponsiveAndLoaded(image) && !(this.config.innerWidth < window.innerWidth)) return;\n\n    addClass(image, 'ci-image');\n\n    if (this.config.lazyLoading)\n      addClass(image, 'lazyload');\n\n    let parentContainerWidth = getParentWidth(image, this.config);\n    let {\n      operation = this.config.operation,\n      size = (this.config.size || parentContainerWidth),\n      filters = this.config.filters,\n      ratio = this.config.ratio,\n      src\n    } = getImageProps(image);\n    const isAdaptive = checkOnMedia(size);\n\n    size = isAdaptive ? eval('(' + size + ')') : size;\n\n    const isRelativeUrlPath = checkIfRelativeUrlPath(src);\n    const imgSrc = getImgSrc(src, isRelativeUrlPath, this.config.baseUrl);\n    const resultSize = isAdaptive ? size : getSizeAccordingToPixelRatio(size);\n    //const isPreview = !this.config.isChrome && (parentContainerWidth > 400) && this.config.lazyLoading;\n    const isPreview = (parentContainerWidth > 400) && this.config.lazyLoading;\n    const cloudimageUrl = isAdaptive ?\n      generateUrl('width', parentContainerWidth, filters, imgSrc, this.config) :\n      generateUrl(operation, resultSize, filters, imgSrc, this.config);\n    const ratioBySize = getRatioBySize(size, this.config);\n    const imageHeight = Math.floor(parentContainerWidth / (ratioBySize || ratio));\n    const isRatio = !!(ratioBySize || ratio);\n\n    if (!isUpdate) {\n      this.wrap(image, null, isRatio, ratioBySize, ratio, isPreview);\n    } else {\n      const wrapper = image.parentNode;\n\n      wrapper.style.paddingBottom = (100 / (ratioBySize || ratio)) + '%';\n\n      if (isAdaptive) return;\n    }\n\n    if (isRatio) {\n      addClass(image, 'ci-image-ratio');\n    }\n\n    if (this.config.imgLoadingAnimation) {\n      this.setAnimation(image, parentContainerWidth);\n    }\n\n    if (isAdaptive && !isPreview) {\n      const sources = generateSources(operation, resultSize, filters, imgSrc, isAdaptive, this.config);\n\n      this.addSources(image, sources);\n      this.setSrc(image, cloudimageUrl);\n      //image.setAttribute('src', cloudimageUrl);\n      image.onload = () => {\n        this.finishAnimation(image);\n      }\n    }\n\n    else if (isAdaptive && isPreview) {\n      addClass(image, 'ci-image-preview');\n\n      const config = { ...this.config, queryString: '' };\n      const url = generateUrl('width', (parentContainerWidth / 5), 'q10.foil1', imgSrc, config);\n      // create sources as elements not a string\n      const sources = generateSources(operation, resultSize, filters, imgSrc, isAdaptive, this.config);\n      const previewSources = generateSources(operation, resultSize, 'q10.foil1', imgSrc, isAdaptive, config, true);\n\n      this.addSources(image, previewSources);\n      this.setSrc(image, url);\n      //image.setAttribute('src', url);\n\n      image.onload = () => {\n        image.onload = () => {\n          this.finishAnimation(image);\n        };\n        this.updateSources(image, previewSources, sources);\n        image.src = cloudimageUrl;\n      }\n    }\n\n    else if (isPreview) {\n      addClass(image, 'ci-image-preview');\n      const config = { ...this.config, queryString: '' };\n      const size = resultSize.split('x').map(size => size / 5).join('x');\n      const url = generateUrl(operation, size, 'q10.foil1', imgSrc, config);\n\n      this.setSrc(image, url);\n\n      image.onload = () => {\n        image.onload = () => {\n          this.finishAnimation(image);\n        };\n        image.src = cloudimageUrl;\n      }\n    }\n\n    else {\n      image.onload = () => {\n        this.finishAnimation(image);\n      };\n      this.setSrc(image, cloudimageUrl);\n      //image.setAttribute('src', cloudimageUrl);\n    }\n  }\n\n  setSrc(image, url) {\n    const { lazyLoading, dataSrcAttr } = this.config;\n\n    image.setAttribute(lazyLoading ? 'data-src' : dataSrcAttr ? dataSrcAttr : 'src', url);\n  }\n\n  setSrcset(source, url) {\n    const { lazyLoading, dataSrcsetAttr } = this.config;\n\n    source.setAttribute(lazyLoading ? 'data-srcset' : dataSrcsetAttr ? dataSrcsetAttr : 'srcset', url);\n  }\n\n  setAnimation(image, parentContainerWidth) {\n    addClass(image, 'ci-image-animation');\n    image.style.filter = `blur(${Math.floor(parentContainerWidth / 100)}px)`;\n  }\n\n  finishAnimation(image) {\n    addClass(image, 'ci-image-loaded');\n    image.style.filter = 'blur(0px)';\n  }\n\n  wrap(image, wrapper, isRatio, ratioBySize, ratio) {\n    if ((image.parentNode.nodeName || '').toLowerCase() === 'picture') {\n      wrapper = image.parentNode;\n\n      addClass(wrapper, 'ci-image-wrapper');\n      wrapper.style.background =  this.config.placeholderBackground;\n\n      if (isRatio) {\n        addClass(wrapper, 'ci-image-wrapper-ratio');\n        //wrapper.style.paddingBottom = (100 / (ratioBySize || ratio)) + '%';\n      }\n\n      return;\n    }\n\n    wrapper = wrapper || document.createElement('picture');\n\n    addClass(wrapper, 'ci-image-wrapper');\n    wrapper.style.background =  this.config.placeholderBackground;\n\n    if (isRatio) {\n      addClass(wrapper, 'ci-image-wrapper-ratio');\n      wrapper.style.paddingBottom = (100 / (ratioBySize || ratio)) + '%';\n    }\n\n    if (image.nextSibling) {\n      image.parentNode.insertBefore(wrapper, image.nextSibling);\n    } else {\n      image.parentNode.appendChild(wrapper);\n    }\n\n    wrapper.appendChild(image);\n  }\n\n  addSources (image, previewSources) {\n    previewSources.forEach((previewSources, index) => {\n      const source = document.createElement('source');\n\n      source.media = previewSources.mediaQuery;\n      this.setSrcset(source, previewSources.srcSet)\n      //source.srcset = previewSources.srcSet;\n\n      insertSource(image, source);\n    });\n  }\n\n  updateSources(image, previewSources, sources) {\n    const sourcesElems = image.parentNode.querySelectorAll('source');\n\n    sourcesElems.forEach((elem, index) => {\n      if (this.config.lazyLoading)\n        this.setSrcset(elem, sources[index].srcSet);\n\n      elem.srcset = sources[index].srcSet;\n    })\n  }\n\n  processBackgroundImage() {\n\n  }\n}","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle ( delay, noTrailing, callback, debounceMode ) {\n\n\t/*\n\t * After wrapper has stopped being called, this timeout ensures that\n\t * `callback` is executed at the proper times in `throttle` and `end`\n\t * debounce modes.\n\t */\n\tvar timeoutID;\n\n\t// Keep track of the last time `callback` was executed.\n\tvar lastExec = 0;\n\n\t// `noTrailing` defaults to falsy.\n\tif ( typeof noTrailing !== 'boolean' ) {\n\t\tdebounceMode = callback;\n\t\tcallback = noTrailing;\n\t\tnoTrailing = undefined;\n\t}\n\n\t/*\n\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t * functionality and when executed will limit the rate at which `callback`\n\t * is executed.\n\t */\n\tfunction wrapper () {\n\n\t\tvar self = this;\n\t\tvar elapsed = Number(new Date()) - lastExec;\n\t\tvar args = arguments;\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec () {\n\t\t\tlastExec = Number(new Date());\n\t\t\tcallback.apply(self, args);\n\t\t}\n\n\t\t/*\n\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t * to allow future `callback` executions.\n\t\t */\n\t\tfunction clear () {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif ( debounceMode && !timeoutID ) {\n\t\t\t/*\n\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t}\n\n\t\t// Clear any existing timeout.\n\t\tif ( timeoutID ) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\n\t\tif ( debounceMode === undefined && elapsed > delay ) {\n\t\t\t/*\n\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t * `callback`.\n\t\t\t */\n\t\t\texec();\n\n\t\t} else if ( noTrailing !== true ) {\n\t\t\t/*\n\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t * recent execution.\n\t\t\t *\n\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t * after `delay` ms.\n\t\t\t *\n\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t * execute after `delay` ms.\n\t\t\t */\n\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t}\n\n\t}\n\n\t// Return the wrapper function.\n\treturn wrapper;\n\n}\n\n/* eslint-disable no-undefined */\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\nfunction debounce ( delay, atBegin, callback ) {\n\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","import CIResponsive from './ci.service';\nimport './ci.styles.css';\n\nwindow.CIResponsive = CIResponsive;","import '../../src';\nimport './style.css';\n\nconst ciResponsive = new window.CIResponsive({\n  token: 'demo',\n  baseUrl: 'https://cloudimage.public.airstore.io/demo/',\n  filters: 'q80.foil1',\n  queryString: '?&size_info=1',\n  lazyLoadOffset: 100,\n  lazyLoading: true\n});\n\nciResponsive.init();\n\nwindow.lazySizes.init();"],"sourceRoot":""}